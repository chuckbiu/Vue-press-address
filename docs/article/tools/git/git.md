# Git

[TOC]

## 工作区、暂存区、版本库

工作区：工作区就是在我们电脑中能看到的目录，即文件和文件夹的实际位置，我们直接在这里进行代码编辑，添加或者删除文件

暂存区：暂存区在git中被称为staged或index，位于.git目录下的index文件中，当我们对工作区的文件进行修改后，需要使用`git add`命令将修改过的文件添加到暂存区，这样修改后的文件状态才会被记录下来，准备提交到版本库中。

版本库：存放所有已经提交到本地仓库的代码版本



如何创建git仓库

```
git init
```



如何将工作区的文件添加到暂存区

```
git add <文件名>
```



如何将暂存区的内容存储到版本库

```
git commit
```

-m 表示添加备注信息

```
git commit -m "添加readme.txt"
```



如何比较暂存区与工作区文件的差异：

```
git diff <文件名>
```



如何将文件从暂存区中删除

```
git restore --staged <文件名>
```



如何查看分支的所有版本

```
git log
```

可以使用一行来显示：

```
git log --pretty=oneline
```



如何将代码回滚到上一个版本：

```
git reset --hard HEAD^
```

其中HEAD^表示回滚一个版本，HEAD^^表示回滚两个版本，依次类推



需要注意的是，这里的回退并不会真的改变版本库，我们可以用下面的命令查看log

```
git reflog
```



我们使用下面的命令回滚到任意节点：

```
git reset --hard 版本号
```



> --soft 、 --mixed、 --hard的区别

- **git reset --soft**：‌此模式保留工作目录的内容，‌并将因重置HEAD所带来的新的文件差异放进暂存区。‌这意味着，‌使用--soft参数时，‌你的工作目录中的修改不会被删除，‌而是被保留下来，‌同时，‌由于重置HEAD引起的任何新的文件差异将被添加到暂存区，‌准备提交。‌
- **git reset --mixed（‌默认）‌**：‌这是git reset命令的默认模式，‌它保留工作目录的内容，‌但重置暂存区（‌Index）‌与HEAD指定的状态保持一致。‌换句话说，‌所有已经git add到暂存区的更改会被取消，‌但工作目录中的更改（‌未提交的更改）‌则保持不变。‌
- **git reset --hard**：‌此模式会重置缓存区和工作目录里的内容，‌使它们与HEAD的新位置相同。‌换句话说，‌当你使用--hard参数时，‌你的缓存区和工作目录里的内容会被完全重置为和HEAD的新位置相同的内容。‌这表示，‌所有未提交的修改都会被丢弃。‌



如何恢复文件

```
git restore readme.md
```



如何创建分支

```
git checkout -b <分支名>
```





什么是cherry-pick



merge和rebase

















